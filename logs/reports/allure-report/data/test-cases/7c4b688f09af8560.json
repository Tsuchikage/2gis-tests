{"uid":"7c4b688f09af8560","name":"Negative Smoke. Создание избранного места с валидными граничными данными latitude и longitude.","fullName":"autotests.api_tests.negative.smoke.test_regions_negative_smoke_api.TestNegativeRegionsSmokeApi#test_86a9f492_negative_create_region_with_invalid_lat_lon","historyId":"6e535b1574840f8e0245b12262f6a19e","time":{"start":1763747772460,"stop":1763747772690,"duration":230},"description":"\n        Баг: При отправке валидных граничных значений (lat=0, lon=0)\n        сервер отвечает 500 Internal Server Error, хотя должен быть 200.\n        ","descriptionHtml":"<pre><code>    Баг: При отправке валидных граничных значений (lat=0, lon=0)\n    сервер отвечает 500 Internal Server Error, хотя должен быть 200.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Ошибка статуса ответа:\nОжидался статус: 200, фактически получен: 500\nURL запроса: https://regions-test.2gis.com//v1/favorites\nТело ответа: 500 Internal Server Error\n\nServer got itself in trouble","statusTrace":"self = <autotests.api_tests.negative.smoke.test_regions_negative_smoke_api.TestNegativeRegionsSmokeApi object at 0x1078220c0>\n\n    @autotest.num(\"106\")\n    @autotest.external_id(\"86a9f492-054c-48dd-95ba-717466109ee4\")\n    @autotest.name(\"Negative Smoke. Создание избранного места с валидными граничными данными latitude и longitude.\")\n    def test_86a9f492_negative_create_region_with_invalid_lat_lon(self):\n        \"\"\"\n        Баг: При отправке валидных граничных значений (lat=0, lon=0)\n        сервер отвечает 500 Internal Server Error, хотя должен быть 200.\n        \"\"\"\n        # Arrange\n        with autotest.step(\"Подготавливаем данные: lat=0, lon=0\"):\n            data = RegionsDataApi(lat=0, lon=0).data\n    \n        # Act\n        with autotest.step(\"Отправляем запрос с валидными граничными данными latitude и longitude.\"):\n            response = self.regions_api.post_favorite_region(data=data, token=self.token)\n    \n        # Assert\n        with autotest.step(\"Проверяем, что сервер возвращает статус-код 200 при корректных данных\"):\n>           check_response_status(response, 200)\n\nautotests/api_tests/negative/smoke/test_regions_negative_smoke_api.py:109: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nsettings/utils.py:30: in check_response_status\n    assert_equal(actual_status, expected_status, error_message)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nactual = 500, expected = 200, message = 'Ошибка статуса ответа:\\nОжидался статус: 200, фактически получен: 500\\nURL запроса: https://regions-test.2gis.com//v1/favorites\\nТело ответа: 500 Internal Server Error\\n\\nServer got itself in trouble'\n\n    def assert_equal(actual, expected, message=None):\n        \"\"\"\n        Проверяет, что фактическое значение равно ожидаемому.\n    \n        :param actual: Фактическое значение.\n        :param expected: Ожидаемое значение.\n        :param message: Необязательное пользовательское сообщение об ошибке.\n        :raises AssertionError: Если значения не равны.\n        \"\"\"\n        if actual != expected:\n>           raise AssertionError(message or f\"{actual} != {expected}\")\nE           AssertionError: Ошибка статуса ответа:\nE           Ожидался статус: 200, фактически получен: 500\nE           URL запроса: https://regions-test.2gis.com//v1/favorites\nE           Тело ответа: 500 Internal Server Error\nE           \nE           Server got itself in trouble\n\nsettings/assertions/custom_assertions.py:11: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1763747770200,"stop":1763747770200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"config","time":{"start":1763747770200,"stop":1763747770201,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"session_token","time":{"start":1763747770201,"stop":1763747770522,"duration":321},"status":"passed","steps":[{"name":"Получаем сессионный токен (POST /v1/auth/tokens)","time":{"start":1763747770201,"stop":1763747770521,"duration":320},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"setup","time":{"start":1763747772459,"stop":1763747772459,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"description":"\n        Баг: При отправке валидных граничных значений (lat=0, lon=0)\n        сервер отвечает 500 Internal Server Error, хотя должен быть 200.\n        ","status":"failed","statusMessage":"AssertionError: Ошибка статуса ответа:\nОжидался статус: 200, фактически получен: 500\nURL запроса: https://regions-test.2gis.com//v1/favorites\nТело ответа: 500 Internal Server Error\n\nServer got itself in trouble","statusTrace":"self = <autotests.api_tests.negative.smoke.test_regions_negative_smoke_api.TestNegativeRegionsSmokeApi object at 0x1078220c0>\n\n    @autotest.num(\"106\")\n    @autotest.external_id(\"86a9f492-054c-48dd-95ba-717466109ee4\")\n    @autotest.name(\"Negative Smoke. Создание избранного места с валидными граничными данными latitude и longitude.\")\n    def test_86a9f492_negative_create_region_with_invalid_lat_lon(self):\n        \"\"\"\n        Баг: При отправке валидных граничных значений (lat=0, lon=0)\n        сервер отвечает 500 Internal Server Error, хотя должен быть 200.\n        \"\"\"\n        # Arrange\n        with autotest.step(\"Подготавливаем данные: lat=0, lon=0\"):\n            data = RegionsDataApi(lat=0, lon=0).data\n    \n        # Act\n        with autotest.step(\"Отправляем запрос с валидными граничными данными latitude и longitude.\"):\n            response = self.regions_api.post_favorite_region(data=data, token=self.token)\n    \n        # Assert\n        with autotest.step(\"Проверяем, что сервер возвращает статус-код 200 при корректных данных\"):\n>           check_response_status(response, 200)\n\nautotests/api_tests/negative/smoke/test_regions_negative_smoke_api.py:109: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nsettings/utils.py:30: in check_response_status\n    assert_equal(actual_status, expected_status, error_message)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nactual = 500, expected = 200, message = 'Ошибка статуса ответа:\\nОжидался статус: 200, фактически получен: 500\\nURL запроса: https://regions-test.2gis.com//v1/favorites\\nТело ответа: 500 Internal Server Error\\n\\nServer got itself in trouble'\n\n    def assert_equal(actual, expected, message=None):\n        \"\"\"\n        Проверяет, что фактическое значение равно ожидаемому.\n    \n        :param actual: Фактическое значение.\n        :param expected: Ожидаемое значение.\n        :param message: Необязательное пользовательское сообщение об ошибке.\n        :raises AssertionError: Если значения не равны.\n        \"\"\"\n        if actual != expected:\n>           raise AssertionError(message or f\"{actual} != {expected}\")\nE           AssertionError: Ошибка статуса ответа:\nE           Ожидался статус: 200, фактически получен: 500\nE           URL запроса: https://regions-test.2gis.com//v1/favorites\nE           Тело ответа: 500 Internal Server Error\nE           \nE           Server got itself in trouble\n\nsettings/assertions/custom_assertions.py:11: AssertionError","steps":[{"name":"Подготавливаем данные: lat=0, lon=0","time":{"start":1763747772460,"stop":1763747772460,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Отправляем запрос с валидными граничными данными latitude и longitude.","time":{"start":1763747772460,"stop":1763747772689,"duration":229},"status":"passed","steps":[{"name":"Создаём избранное место (POST /v1/favorites)","time":{"start":1763747772460,"stop":1763747772689,"duration":229},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Проверяем, что сервер возвращает статус-код 200 при корректных данных","time":{"start":1763747772689,"stop":1763747772689,"duration":0},"status":"failed","statusMessage":"AssertionError: Ошибка статуса ответа:\nОжидался статус: 200, фактически получен: 500\nURL запроса: https://regions-test.2gis.com//v1/favorites\nТело ответа: 500 Internal Server Error\n\nServer got itself in trouble\n","statusTrace":"  File \"/Users/dmizhu/PycharmProjects/2gis-tests/autotests/api_tests/negative/smoke/test_regions_negative_smoke_api.py\", line 109, in test_86a9f492_negative_create_region_with_invalid_lat_lon\n    check_response_status(response, 200)\n  File \"/Users/dmizhu/PycharmProjects/2gis-tests/settings/utils.py\", line 30, in check_response_status\n    assert_equal(actual_status, expected_status, error_message)\n  File \"/Users/dmizhu/PycharmProjects/2gis-tests/settings/assertions/custom_assertions.py\", line 11, in assert_equal\n    raise AssertionError(message or f\"{actual} != {expected}\")\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":4,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"attachmentsCount":0},"afterStages":[],"labels":[{"name":"Test cases","value":"106"},{"name":"Autotest id","value":"86a9f492-054c-48dd-95ba-717466109ee4"},{"name":"tag","value":"negative"},{"name":"tag","value":"smoke"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"autotests.api_tests.negative.smoke"},{"name":"suite","value":"test_regions_negative_smoke_api"},{"name":"subSuite","value":"TestNegativeRegionsSmokeApi"},{"name":"host","value":"Mac"},{"name":"thread","value":"14185-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"autotests.api_tests.negative.smoke.test_regions_negative_smoke_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["negative","smoke","api"]},"source":"7c4b688f09af8560.json","parameterValues":[]}